-- Insert sample categories if they don't exist
INSERT INTO categories (id, name, slug, description, icon)
VALUES 
  ('a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'Electronics', 'electronics', 'Electronic devices and gadgets', 'laptop'),
  ('b2c3d4e5-f678-90ab-cdef-123456789012', 'Photography', 'photography', 'Cameras and photography equipment', 'camera'),
  ('c3d4e5f6-7890-abcd-ef12-345678901234', 'Sports & Outdoors', 'sports-outdoors', 'Sports and outdoor equipment', 'tent')
ON CONFLICT (id) DO NOTHING;

-- Insert sample listings for testing
INSERT INTO listings (
  id,
  title,
  description,
  category_id,
  owner_id,
  price_per_day,
  price_per_week,
  price_per_month,
  deposit_amount,
  condition,
  address,
  location,
  photos,
  tags,
  status,
  featured,
  created_at,
  updated_at
) VALUES 
(
  'f47ac10b-58cc-4372-a567-0e02b2c3d479',
  'Canon EOS R5 Professional Camera',
  'Professional mirrorless camera with 45MP sensor, 8K video recording, and in-body image stabilization. Perfect for weddings, events, and commercial photography.',
  'b2c3d4e5-f678-90ab-cdef-123456789012',
  (SELECT id FROM profiles LIMIT 1),
  85.00,
  500.00,
  1800.00,
  500.00,
  'like_new',
  'San Francisco, CA',
  ST_Point(-122.4194, 37.7749)::geography,
  '["https://images.unsplash.com/photo-1502920917128-1aa500764cbd?w=800", "https://images.unsplash.com/photo-1606986628025-35d57e735ae0?w=800"]'::jsonb,
  ARRAY['camera', 'professional', 'canon', 'photography'],
  'active',
  true,
  NOW() - INTERVAL '5 days',
  NOW() - INTERVAL '1 day'
),
(
  'e72ac10b-58cc-4372-a567-0e02b2c3d480',
  'MacBook Pro 16" M3 Max',
  'Latest MacBook Pro with M3 Max chip, 64GB RAM, and 2TB SSD. Perfect for video editing, software development, and creative work.',
  'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
  (SELECT id FROM profiles LIMIT 1),
  45.00,
  280.00,
  950.00,
  300.00,
  'like_new',
  'San Francisco, CA',
  ST_Point(-122.4167, 37.7833)::geography,
  '["https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800"]'::jsonb,
  ARRAY['laptop', 'macbook', 'apple', 'programming'],
  'active',
  false,
  NOW() - INTERVAL '3 days',
  NOW()
),
(
  'd82ac10b-58cc-4372-a567-0e02b2c3d481',
  'DJI Mavic 3 Pro Drone Bundle',
  'Professional drone with Hasselblad camera, 46-minute flight time, and complete accessories bundle including extra batteries and ND filters.',
  'b2c3d4e5-f678-90ab-cdef-123456789012',
  (SELECT id FROM profiles LIMIT 1),
  120.00,
  700.00,
  2400.00,
  800.00,
  'good',
  'Oakland, CA',
  ST_Point(-122.2711, 37.8044)::geography,
  '["https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800"]'::jsonb,
  ARRAY['drone', 'dji', 'aerial', 'photography', 'video'],
  'active',
  true,
  NOW() - INTERVAL '7 days',
  NOW() - INTERVAL '2 days'
),
(
  'c92ac10b-58cc-4372-a567-0e02b2c3d482',
  'Complete Camping Set for 4 People',
  '4-person tent, sleeping bags, camping stove, chairs, and all essentials for a comfortable camping trip.',
  'c3d4e5f6-7890-abcd-ef12-345678901234',
  (SELECT id FROM profiles LIMIT 1),
  65.00,
  380.00,
  1200.00,
  200.00,
  'good',
  'Berkeley, CA',
  ST_Point(-122.2728, 37.8716)::geography,
  '["https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=800"]'::jsonb,
  ARRAY['camping', 'tent', 'outdoor', 'hiking'],
  'active',
  false,
  NOW() - INTERVAL '10 days',
  NOW() - INTERVAL '3 days'
),
(
  'b82ac10b-58cc-4372-a567-0e02b2c3d483',
  'Sony A7S III with Lenses',
  'Full-frame mirrorless camera optimized for video. Includes 24-70mm f/2.8 and 70-200mm f/2.8 lenses.',
  'b2c3d4e5-f678-90ab-cdef-123456789012',
  (SELECT id FROM profiles LIMIT 1),
  95.00,
  550.00,
  1900.00,
  600.00,
  'like_new',
  'San Jose, CA',
  ST_Point(-121.8863, 37.3382)::geography,
  '["https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=800"]'::jsonb,
  ARRAY['camera', 'sony', 'video', 'professional'],
  'active',
  true,
  NOW() - INTERVAL '2 days',
  NOW()
)
ON CONFLICT (id) DO UPDATE SET
  status = EXCLUDED.status,
  updated_at = NOW();